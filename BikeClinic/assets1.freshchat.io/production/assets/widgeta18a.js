!function(e,t,i){if(function(e,t){var i=document.createElement("style");i.innerHTML=t,document.head.appendChild(i)}(0,'@charset "utf-8";.fc-tab-hide{display:none}.fc-tab{position:fixed;z-index:999999;overflow:hidden;bottom:-1px}.fc-tab iframe{display:block;border:0}.fc-tab.-left{left:30px}.fc-tab.-right{right:30px}.fc-tab.-mini,.fc-tab.-mini iframe{width:65px;height:92px}.fc-tab.-mini.-custom-notify,.fc-tab.-mini.-custom-notify iframe{width:340px;height:192px}.fc-tab.-full,.fc-tab.-full iframe{width:340px;height:60px}.fc-tab.-full.-custom-notify,.fc-tab.-full.-custom-notify iframe{height:160px}.fc-tab.-maximized,.fc-tab.-maximized iframe{height:480px;width:340px}@media screen and (max-device-width:767px){.fc-no-scroll{overflow:hidden;height:100vh}.fc-no-scroll > *{display:none}.fc-no-scroll > .fc-tab{display:inherit}.fc-tab{bottom:0}.fc-tab.-left{left:30px!important}.fc-tab.-right{right:30px!important}.fc-tab.-full,.fc-tab.-full iframe{width:65px;height:92px}.fc-tab.-maximized{top:0;right:0!important;left:0!important;width:100%;height:100%}.fc-tab.-maximized iframe{width:100%;height:100%}}'),void 0===e)throw new Error("Freshchat cannot be loaded , widget code not present");var o=function(e,t){this.isReady=!1,this.showWidget=!0,this.fcURL=t,this.widgetCode=e,this.addIframe(),this.chatWindow=window.open(this.getChatUrl(),"fc_iframe"),window.addEventListener("message",this.processIframeMessage.bind(this),!1),this.listenUrlChange()};o.prototype.getChatUrl=function(){window.location.origin||(window.location.origin=window.location.protocol+"//"+window.location.hostname+(window.location.port?":"+window.location.port:""));var e=window.encodeURIComponent(window.location.origin),t=null;try{t=window.localStorage.getItem("_fcv")}catch(e){}var i=this.getCookie("_fc_unq")||this.generateUUID(),o=[this.fcURL,"/visitor/widget/",this.widgetCode,"?origin=",e,"&UUID=",i].join("");return t&&(o=[o,"&_fcv=",t].join("")),o},o.prototype.addIframe=function(){function e(e,t){for(var i in t)e.setAttribute(i,t[i]);return e}this.widgetIframe=document.createElement("iframe"),e(this.widgetIframe,{name:"fc_iframe"}),this.widgetDiv=document.createElement("div"),e(this.widgetDiv,{id:"_fc_div",class:"fc-tab",style:"display: none;"}),this.widgetDiv.appendChild(this.widgetIframe),document.body.appendChild(this.widgetDiv)},o.prototype.processIframeMessage=function(e){if(e.origin===this.fcURL&&e.data){var t=e.data;switch(t.type){case"maximize":var o=screen&&screen.width&&screen.width<720;if(t.data&&(d=t.data.value),this.setMaximized(d),d===!0){var r=document.createElement("meta");if(r.name="viewport",r.id="fc-viewPort",r.content="width=device-width, initial-scale=1, maximum-scale=1",document.getElementsByTagName("head")[0].appendChild(r),o){var n=document.height?document.height:document.body.clientHeight;window.scrollTo(0,n-screen.availHeight),window.document.body.classList.add("fc-no-scroll")}}else{var a=document.getElementById("fc-viewPort");a&&a.parentNode.removeChild(a)}t.data.callbackId&&requestHandler.executeCallback(t.data.callbackId),t.data.type&&(requestHandler.requestServed--,requestHandler.showChatWidget());break;case"getPageDetails":var s={referrer_url:document.referrer||"",referrer_title:document.referrer?this.extractDomain(document.referrer):"Direct Path",title:document.title||null,url:window.location.href};this.pushToChild("requestedPageDetails",s);break;case"get_parent_page_details":this.pushToChild("requested_page_response",this.getPageDetails());break;case"popupWindow":this.popupWindow||(this.popupWindow=window.open(this.getChatUrl(),null,"height=481,width=301"));break;case"render_widget":var d=t.data;this.isSmallIcon=d.isSmallIcon,this.widgetOffset=d.widgetOffset,this.setWidgetType(d.isSmallIcon,d.widgetPosition,d.widgetOffset),this.handleFocus(),this.handleOffsetSize(),this.pushToChild("fcOptions",i);break;case"hide_widget":Freshchat.hideChat();break;case"show_widget":Freshchat.showChat();break;case"set_jwtToken":var c=t.data;try{window.localStorage.setItem("_fcv",c)}catch(e){}break;case"API_Response":t.data.error&&console.error(t.data.error);var l=t.data.callbackId;l&&requestHandler.executeCallback(l,t.data.response),requestHandler.requestServed--,requestHandler.showChatWidget();break;case"onWidgetLoad":widget.isReady=!0,requestHandler.executePendingRequests()}}},o.prototype.pushToChild=function(e,t){this.chatWindow.postMessage({type:e,data:t},this.fcURL)},o.prototype.setMaximized=function(e){var t=this.widgetDiv.classList;e?(t.remove("-mini","-full"),t.add("-maximized")):(t.remove("-maximized"),window.document.body.classList.remove("fc-no-scroll"),this.isSmallIcon?t.add("-mini"):t.add("-full"))},o.prototype.setWidgetType=function(e,t,i,o){function r(e,t){for(var i in t)e.setAttribute(i,t[i]);return e}var n=this.widgetDiv.classList;"bottom_left"===t?(n.add("-left"),r(this.widgetDiv,{style:"left: "+i+"px;"})):(n.add("-right"),r(this.widgetDiv,{style:"right: "+i+"px;"})),this.widgetDiv.style.display="none",o&&n.add("-maximized"),e?n.add("-mini"):n.add("-full")},o.prototype.listenUrlChange=function(){var e=window.history.pushState,t=this;window.history.pushState=function(){e.apply(window.history,arguments);try{t.pushPageEvent()}catch(e){}},window.onpopstate=function(){t.pushPageEvent()}},o.prototype.handleFocus=function(){var e=this;window.addEventListener("focus",function(){e.pushToChild("parent_focus_change",!0)}),window.addEventListener("blur",function(){e.pushToChild("parent_focus_change",!1)})},o.prototype.handleOffsetSize=function(){function e(){t.pushToChild("parent_offset_size_change",{height:document.body.offsetHeight,width:document.body.offsetWidth})}var t=this;e(),window.addEventListener("resize",function(){e()})},o.prototype.pushPageEvent=function(){var e={referrer_url:document.referrer||"",referrer_title:document.referrer?this.extractDomain(document.referrer):"Direct Path",title:document.title||null,url:window.location.href};this.pushToChild("pushPageDetails",e),this.pushToChild("push_page_change",this.getPageDetails())},o.prototype.getPageDetails=function(){return{referrer:document.referrer||null,title:document.title||null,url:window.location.href||null}},o.prototype.extractDomain=function(e){var t;return t=e.indexOf("://")>-1?e.split("/")[2]:e.split("/")[0],t=t.split(":")[0]},o.prototype.generateUUID=function(){for(var e=[],t=0;t<256;t++)e[t]=(t<16?"0":"")+t.toString(16);var i=4294967295*Math.random()|0,o=4294967295*Math.random()|0,r=4294967295*Math.random()|0,n=4294967295*Math.random()|0;return e[255&i]+e[i>>8&255]+e[i>>16&255]+e[i>>24&255]+"-"+e[255&o]+e[o>>8&255]+"-"+e[o>>16&15|64]+e[o>>24&255]+"-"+e[63&r|128]+e[r>>8&255]+"-"+e[r>>16&255]+e[r>>24&255]+e[255&n]+e[n>>8&255]+e[n>>16&255]+e[n>>24&255]},o.prototype.getCookie=function(e){for(var t,i=encodeURIComponent(e),o=document.cookie?document.cookie.split(";"):[],r=o.length-1;r>=0;r--)if(t=o[r].replace(/^\s*/,""),0===t.indexOf(i+"="))return decodeURIComponent(t.substring(i.length+1,t.length));return null},window.widget=new o(e,t);var r=function(){this.first=null,this.last=null,this.size=0},n=function(e,t,i){this.event=e,this.callback=i,this.param=t,this.next=null};r.prototype.enqueue=function(e){return null==this.last?(this.last=e,this.first=e):(this.last.next=e,this.last=e),this.size+=1,e},r.prototype.dequeue=function(){if(null!==this.first)return temp=this.first,this.first=this.first.next,this.size-=1,temp};var a=function(){this.callbackStore={},this.queue=new r,this.requestServed=0};a.prototype.executeCallback=function(e,t){if(e){var i=this.callbackStore[e];try{i(t)}catch(e){console.error("Error in callback function",e)}delete this.callbackStore[e]}},a.prototype.executePendingRequests=function(e){if(this.queue.size>0)try{for(;this.queue.size>0;){var t=this.queue.dequeue();this.processRequest(t.event,t.param,t.callback)}}catch(e){console.error("Error in executing pending APIRequests")}else widget.showWidget&&Freshchat.showChat()},a.prototype.processRequest=function(e,t,i){if("function"==typeof t&&(i=t,t=null),widget.isReady){var o=this.storeCallBack(i),r={callbackId:o,value:t};widget.pushToChild(e,r),this.requestServed++}else{var a=new n(e,t,i);this.queue.enqueue(a)}},a.prototype.storeCallBack=function(e){if(e)return callbackId=widget.generateUUID(),this.callbackStore[callbackId]=e,callbackId},a.prototype.showChatWidget=function(){0===this.queue.size&&0===this.requestServed&&widget.showWidget&&Freshchat.showChat()},window.Freshchat=function(){function e(e){requestHandler.processRequest("checkVisitorType","prospect",e)}function t(e){requestHandler.processRequest("checkVisitorType","customer",e)}function i(e){requestHandler.processRequest("isAvailable",e)}function o(e){requestHandler.processRequest("checkChatState","ended",e)}function r(e){requestHandler.processRequest("checkChatState",e)}function n(e){requestHandler.processRequest("isTargetedMsgPopped",e)}function s(e){widget.widgetDiv.style.display="none",widget.showWidget=!1,e&&e()}function d(e){widget.widgetDiv.style.display="",e&&e()}function c(e){requestHandler.processRequest("parent_maximize_widget",!0,e)}function l(e){requestHandler.processRequest("parent_maximize_widget",!1,e)}function h(e,t){p("updateVisitorProperties",e,t)}function u(e,t){p("updateChatWidgetProperties",e,t)}function f(e,t){requestHandler.processRequest("configureBot",e,t)}function p(e,t,i){validationResponse=w(e,t),validationResponse.status?requestHandler.processRequest(e,t,i):console.error(validationResponse.error)}function w(e,t){var i={status:!0,error:null};return"object"!=typeof t&&(i.error="FreshchatError : Invalid format",i.status=!1),i}return requestHandler=new a,{hideChat:s,showChat:d,maximizeChat:c,minimizeChat:l,isProspect:e,isCustomer:t,isChatClosed:o,isChatInProgress:r,isUserAvailable:i,isTargetedMsgReceived:n,configureBot:f,setVisitorDetails:h,setWidgetProperties:u}}()}(window._fcWidgetCode,window._fcURL,window.fc_options);